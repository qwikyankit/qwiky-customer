{"dependencies":[{"name":"axios","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":57,"index":57}}],"key":"e45rENb5cSu0Yeh6oC1uWb7lEp4=","exportNames":["*"],"imports":1}},{"name":"@react-native-async-storage/async-storage","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":2,"column":0,"index":58},"end":{"line":2,"column":69,"index":127}}],"key":"0kSRlooyBOaYM9tlTtK91nq+uds=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  function _interopDefault(e) {\n    return e && e.__esModule ? e : {\n      default: e\n    };\n  }\n  Object.defineProperty(exports, \"default\", {\n    enumerable: true,\n    get: function () {\n      return _default;\n    }\n  });\n  Object.defineProperty(exports, \"getToken\", {\n    enumerable: true,\n    get: function () {\n      return getToken;\n    }\n  });\n  Object.defineProperty(exports, \"setToken\", {\n    enumerable: true,\n    get: function () {\n      return setToken;\n    }\n  });\n  Object.defineProperty(exports, \"resetToken\", {\n    enumerable: true,\n    get: function () {\n      return resetToken;\n    }\n  });\n  Object.defineProperty(exports, \"fetchBookings\", {\n    enumerable: true,\n    get: function () {\n      return fetchBookings;\n    }\n  });\n  Object.defineProperty(exports, \"fetchUserDetails\", {\n    enumerable: true,\n    get: function () {\n      return fetchUserDetails;\n    }\n  });\n  Object.defineProperty(exports, \"cancelBooking\", {\n    enumerable: true,\n    get: function () {\n      return cancelBooking;\n    }\n  });\n  Object.defineProperty(exports, \"settleBooking\", {\n    enumerable: true,\n    get: function () {\n      return settleBooking;\n    }\n  });\n  var _axios = require(_dependencyMap[0], \"axios\");\n  var axios = _interopDefault(_axios);\n  var _reactNativeAsyncStorageAsyncStorage = require(_dependencyMap[1], \"@react-native-async-storage/async-storage\");\n  var AsyncStorage = _interopDefault(_reactNativeAsyncStorageAsyncStorage);\n  const TOKEN_STORAGE_KEY = 'qwiky_admin_token';\n\n  // Default token\n  const DEFAULT_TOKEN = 'eyJhbGciOiJIUzI1NiJ9.eyJtb2JpbGUiOiI5NjYwNzY2MjI3Iiwicm9sZXMiOlsiU1VQRVJfQURNSU4iLCJDVVNUT01FUiJdLCJ1c2VySWQiOiJjZGZiZDJmZC04OTkxLTRiNzMtOGZmYS1jNzE1MzZiOGI4MDkiLCJ0b2tlbl90eXBlIjoiYWNjZXNzIiwic3ViIjoiY2RmYmQyZmQtODk5MS00YjczLThmZmEtYzcxNTM2YjhiODA5IiwiaWF0IjoxNzcxMDU4MzE0LCJleHAiOjIwODIwOTgzMTR9.AukXaAriiGHGlwgEwRhleN2kzC0emcEoys7H3JG7PA4';\n\n  // Use the backend proxy URL\n  const BACKEND_URL = process.env.EXPO_PUBLIC_BACKEND_URL || 'https://qadmin-bookings.preview.emergentagent.com';\n  const API_BASE_URL = `${BACKEND_URL}/api`;\n  let currentToken = DEFAULT_TOKEN;\n\n  // Create axios instance\n  const apiClient = axios.default.create({\n    baseURL: API_BASE_URL,\n    timeout: 30000,\n    headers: {\n      'Content-Type': 'application/json'\n    }\n  });\n\n  // Request interceptor to add auth header\n  apiClient.interceptors.request.use(async config => {\n    // Try to get token from storage first\n    try {\n      const storedToken = await AsyncStorage.default.getItem(TOKEN_STORAGE_KEY);\n      if (storedToken) {\n        currentToken = storedToken;\n      }\n    } catch (e) {\n      // Use current token if storage fails\n    }\n    config.headers.Authorization = `Bearer ${currentToken}`;\n    return config;\n  }, error => Promise.reject(error));\n\n  // Response interceptor for error handling\n  apiClient.interceptors.response.use(response => response, error => {\n    if (error.response) {\n      console.error('API Error:', error.response.status, error.response.data);\n    } else if (error.request) {\n      console.error('Network Error:', error.message);\n    } else {\n      console.error('Request Error:', error.message);\n    }\n    return Promise.reject(error);\n  });\n\n  // Token management functions\n  const getToken = async () => {\n    try {\n      const storedToken = await AsyncStorage.default.getItem(TOKEN_STORAGE_KEY);\n      return storedToken || DEFAULT_TOKEN;\n    } catch {\n      return DEFAULT_TOKEN;\n    }\n  };\n  const setToken = async token => {\n    try {\n      await AsyncStorage.default.setItem(TOKEN_STORAGE_KEY, token);\n      currentToken = token;\n    } catch (e) {\n      console.error('Failed to save token:', e);\n      throw e;\n    }\n  };\n  const resetToken = async () => {\n    try {\n      await AsyncStorage.default.removeItem(TOKEN_STORAGE_KEY);\n      currentToken = DEFAULT_TOKEN;\n    } catch (e) {\n      console.error('Failed to reset token:', e);\n    }\n  };\n\n  // API Functions using backend proxy\n\n  // Fetch all bookings\n  const fetchBookings = async () => {\n    const response = await apiClient.get('/qwiky/bookings');\n    return response.data;\n  };\n\n  // Fetch user details\n  const fetchUserDetails = async userId => {\n    const response = await apiClient.get(`/qwiky/user/${userId}`);\n    return response.data;\n  };\n\n  // Cancel booking\n  const cancelBooking = async bookingId => {\n    const response = await apiClient.post(`/qwiky/booking/${bookingId}/cancel`);\n    return response.data;\n  };\n\n  // Settle booking\n  const settleBooking = async bookingId => {\n    const response = await apiClient.post(`/qwiky/booking/${bookingId}/settled`);\n    return response.data;\n  };\n  var _default = apiClient;\n});","lineCount":163,"map":[[12,2,113,0,"Object"],[12,8,113,0],[12,9,113,0,"defineProperty"],[12,23,113,0],[12,24,113,0,"exports"],[12,31,113,0],[13,4,113,0,"enumerable"],[13,14,113,0],[14,4,113,0,"get"],[14,7,113,0],[14,18,113,0,"get"],[14,19,113,0],[15,6,113,0],[15,13,113,0,"_default"],[15,21,113,0],[16,4,113,0],[17,2,113,0],[18,2,59,0,"Object"],[18,8,59,0],[18,9,59,0,"defineProperty"],[18,23,59,0],[18,24,59,0,"exports"],[18,31,59,0],[19,4,59,0,"enumerable"],[19,14,59,0],[20,4,59,0,"get"],[20,7,59,0],[20,18,59,0,"get"],[20,19,59,0],[21,6,59,0],[21,13,59,0,"getToken"],[21,21,59,0],[22,4,59,0],[23,2,59,0],[24,2,68,0,"Object"],[24,8,68,0],[24,9,68,0,"defineProperty"],[24,23,68,0],[24,24,68,0,"exports"],[24,31,68,0],[25,4,68,0,"enumerable"],[25,14,68,0],[26,4,68,0,"get"],[26,7,68,0],[26,18,68,0,"get"],[26,19,68,0],[27,6,68,0],[27,13,68,0,"setToken"],[27,21,68,0],[28,4,68,0],[29,2,68,0],[30,2,78,0,"Object"],[30,8,78,0],[30,9,78,0,"defineProperty"],[30,23,78,0],[30,24,78,0,"exports"],[30,31,78,0],[31,4,78,0,"enumerable"],[31,14,78,0],[32,4,78,0,"get"],[32,7,78,0],[32,18,78,0,"get"],[32,19,78,0],[33,6,78,0],[33,13,78,0,"resetToken"],[33,23,78,0],[34,4,78,0],[35,2,78,0],[36,2,90,0,"Object"],[36,8,90,0],[36,9,90,0,"defineProperty"],[36,23,90,0],[36,24,90,0,"exports"],[36,31,90,0],[37,4,90,0,"enumerable"],[37,14,90,0],[38,4,90,0,"get"],[38,7,90,0],[38,18,90,0,"get"],[38,19,90,0],[39,6,90,0],[39,13,90,0,"fetchBookings"],[39,26,90,0],[40,4,90,0],[41,2,90,0],[42,2,96,0,"Object"],[42,8,96,0],[42,9,96,0,"defineProperty"],[42,23,96,0],[42,24,96,0,"exports"],[42,31,96,0],[43,4,96,0,"enumerable"],[43,14,96,0],[44,4,96,0,"get"],[44,7,96,0],[44,18,96,0,"get"],[44,19,96,0],[45,6,96,0],[45,13,96,0,"fetchUserDetails"],[45,29,96,0],[46,4,96,0],[47,2,96,0],[48,2,102,0,"Object"],[48,8,102,0],[48,9,102,0,"defineProperty"],[48,23,102,0],[48,24,102,0,"exports"],[48,31,102,0],[49,4,102,0,"enumerable"],[49,14,102,0],[50,4,102,0,"get"],[50,7,102,0],[50,18,102,0,"get"],[50,19,102,0],[51,6,102,0],[51,13,102,0,"cancelBooking"],[51,26,102,0],[52,4,102,0],[53,2,102,0],[54,2,108,0,"Object"],[54,8,108,0],[54,9,108,0,"defineProperty"],[54,23,108,0],[54,24,108,0,"exports"],[54,31,108,0],[55,4,108,0,"enumerable"],[55,14,108,0],[56,4,108,0,"get"],[56,7,108,0],[56,18,108,0,"get"],[56,19,108,0],[57,6,108,0],[57,13,108,0,"settleBooking"],[57,26,108,0],[58,4,108,0],[59,2,108,0],[60,2,1,0],[60,6,1,0,"_axios"],[60,12,1,0],[60,15,1,0,"require"],[60,22,1,0],[60,23,1,0,"_dependencyMap"],[60,37,1,0],[61,2,1,0],[61,6,1,0,"axios"],[61,11,1,0],[61,14,1,0,"_interopDefault"],[61,29,1,0],[61,30,1,0,"_axios"],[61,36,1,0],[62,2,2,0],[62,6,2,0,"_reactNativeAsyncStorageAsyncStorage"],[62,42,2,0],[62,45,2,0,"require"],[62,52,2,0],[62,53,2,0,"_dependencyMap"],[62,67,2,0],[63,2,2,0],[63,6,2,0,"AsyncStorage"],[63,18,2,0],[63,21,2,0,"_interopDefault"],[63,36,2,0],[63,37,2,0,"_reactNativeAsyncStorageAsyncStorage"],[63,73,2,0],[64,2,5,0],[64,8,5,6,"TOKEN_STORAGE_KEY"],[64,25,5,23],[64,28,5,26],[64,47,5,45],[66,2,7,0],[67,2,8,0],[67,8,8,6,"DEFAULT_TOKEN"],[67,21,8,19],[67,24,8,22],[67,367,8,365],[69,2,10,0],[70,2,11,0],[70,8,11,6,"BACKEND_URL"],[70,19,11,17],[70,22,11,20,"process"],[70,29,11,27],[70,30,11,28,"env"],[70,33,11,31],[70,34,11,32,"EXPO_PUBLIC_BACKEND_URL"],[70,57,11,55],[70,61,11,59],[70,112,11,110],[71,2,12,0],[71,8,12,6,"API_BASE_URL"],[71,20,12,18],[71,23,12,21],[71,26,12,24,"BACKEND_URL"],[71,37,12,35],[71,43,12,41],[72,2,14,0],[72,6,14,4,"currentToken"],[72,18,14,16],[72,21,14,19,"DEFAULT_TOKEN"],[72,34,14,32],[74,2,16,0],[75,2,17,0],[75,8,17,6,"apiClient"],[75,17,17,30],[75,20,17,33,"axios"],[75,25,17,38],[75,26,17,38,"default"],[75,33,17,38],[75,34,17,39,"create"],[75,40,17,45],[75,41,17,46],[76,4,18,2,"baseURL"],[76,11,18,9],[76,13,18,11,"API_BASE_URL"],[76,25,18,23],[77,4,19,2,"timeout"],[77,11,19,9],[77,13,19,11],[77,18,19,16],[78,4,20,2,"headers"],[78,11,20,9],[78,13,20,11],[79,6,21,4],[79,20,21,18],[79,22,21,20],[80,4,22,2],[81,2,23,0],[81,3,23,1],[81,4,23,2],[83,2,25,0],[84,2,26,0,"apiClient"],[84,11,26,9],[84,12,26,10,"interceptors"],[84,24,26,22],[84,25,26,23,"request"],[84,32,26,30],[84,33,26,31,"use"],[84,36,26,34],[84,37,27,2],[84,43,27,9,"config"],[84,49,27,15],[84,53,27,20],[85,4,28,4],[86,4,29,4],[86,8,29,8],[87,6,30,6],[87,12,30,12,"storedToken"],[87,23,30,23],[87,26,30,26],[87,32,30,32,"AsyncStorage"],[87,44,30,44],[87,45,30,44,"default"],[87,52,30,44],[87,53,30,45,"getItem"],[87,60,30,52],[87,61,30,53,"TOKEN_STORAGE_KEY"],[87,78,30,70],[87,79,30,71],[88,6,31,6],[88,10,31,10,"storedToken"],[88,21,31,21],[88,23,31,23],[89,8,32,8,"currentToken"],[89,20,32,20],[89,23,32,23,"storedToken"],[89,34,32,34],[90,6,33,6],[91,4,34,4],[91,5,34,5],[91,6,34,6],[91,13,34,13,"e"],[91,14,34,14],[91,16,34,16],[92,6,35,6],[93,4,35,6],[94,4,37,4,"config"],[94,10,37,10],[94,11,37,11,"headers"],[94,18,37,18],[94,19,37,19,"Authorization"],[94,32,37,32],[94,35,37,35],[94,45,37,45,"currentToken"],[94,57,37,57],[94,59,37,59],[95,4,38,4],[95,11,38,11,"config"],[95,17,38,17],[96,2,39,2],[96,3,39,3],[96,5,40,3,"error"],[96,10,40,8],[96,14,40,13,"Promise"],[96,21,40,20],[96,22,40,21,"reject"],[96,28,40,27],[96,29,40,28,"error"],[96,34,40,33],[96,35,41,0],[96,36,41,1],[98,2,43,0],[99,2,44,0,"apiClient"],[99,11,44,9],[99,12,44,10,"interceptors"],[99,24,44,22],[99,25,44,23,"response"],[99,33,44,31],[99,34,44,32,"use"],[99,37,44,35],[99,38,45,3,"response"],[99,46,45,11],[99,50,45,16,"response"],[99,58,45,24],[99,60,46,3,"error"],[99,65,46,20],[99,69,46,25],[100,4,47,4],[100,8,47,8,"error"],[100,13,47,13],[100,14,47,14,"response"],[100,22,47,22],[100,24,47,24],[101,6,48,6,"console"],[101,13,48,13],[101,14,48,14,"error"],[101,19,48,19],[101,20,48,20],[101,32,48,32],[101,34,48,34,"error"],[101,39,48,39],[101,40,48,40,"response"],[101,48,48,48],[101,49,48,49,"status"],[101,55,48,55],[101,57,48,57,"error"],[101,62,48,62],[101,63,48,63,"response"],[101,71,48,71],[101,72,48,72,"data"],[101,76,48,76],[101,77,48,77],[102,4,49,4],[102,5,49,5],[102,11,49,11],[102,15,49,15,"error"],[102,20,49,20],[102,21,49,21,"request"],[102,28,49,28],[102,30,49,30],[103,6,50,6,"console"],[103,13,50,13],[103,14,50,14,"error"],[103,19,50,19],[103,20,50,20],[103,36,50,36],[103,38,50,38,"error"],[103,43,50,43],[103,44,50,44,"message"],[103,51,50,51],[103,52,50,52],[104,4,51,4],[104,5,51,5],[104,11,51,11],[105,6,52,6,"console"],[105,13,52,13],[105,14,52,14,"error"],[105,19,52,19],[105,20,52,20],[105,36,52,36],[105,38,52,38,"error"],[105,43,52,43],[105,44,52,44,"message"],[105,51,52,51],[105,52,52,52],[106,4,53,4],[107,4,54,4],[107,11,54,11,"Promise"],[107,18,54,18],[107,19,54,19,"reject"],[107,25,54,25],[107,26,54,26,"error"],[107,31,54,31],[107,32,54,32],[108,2,55,2],[108,3,56,0],[108,4,56,1],[110,2,58,0],[111,2,59,7],[111,8,59,13,"getToken"],[111,16,59,21],[111,19,59,24],[111,25,59,24,"getToken"],[111,26,59,24],[111,31,59,53],[112,4,60,2],[112,8,60,6],[113,6,61,4],[113,12,61,10,"storedToken"],[113,23,61,21],[113,26,61,24],[113,32,61,30,"AsyncStorage"],[113,44,61,42],[113,45,61,42,"default"],[113,52,61,42],[113,53,61,43,"getItem"],[113,60,61,50],[113,61,61,51,"TOKEN_STORAGE_KEY"],[113,78,61,68],[113,79,61,69],[114,6,62,4],[114,13,62,11,"storedToken"],[114,24,62,22],[114,28,62,26,"DEFAULT_TOKEN"],[114,41,62,39],[115,4,63,2],[115,5,63,3],[115,6,63,4],[115,12,63,10],[116,6,64,4],[116,13,64,11,"DEFAULT_TOKEN"],[116,26,64,24],[117,4,65,2],[118,2,66,0],[118,3,66,1],[119,2,68,7],[119,8,68,13,"setToken"],[119,16,68,21],[119,19,68,24],[119,25,68,31,"token"],[119,30,68,44],[119,34,68,64],[120,4,69,2],[120,8,69,6],[121,6,70,4],[121,12,70,10,"AsyncStorage"],[121,24,70,22],[121,25,70,22,"default"],[121,32,70,22],[121,33,70,23,"setItem"],[121,40,70,30],[121,41,70,31,"TOKEN_STORAGE_KEY"],[121,58,70,48],[121,60,70,50,"token"],[121,65,70,55],[121,66,70,56],[122,6,71,4,"currentToken"],[122,18,71,16],[122,21,71,19,"token"],[122,26,71,24],[123,4,72,2],[123,5,72,3],[123,6,72,4],[123,13,72,11,"e"],[123,14,72,12],[123,16,72,14],[124,6,73,4,"console"],[124,13,73,11],[124,14,73,12,"error"],[124,19,73,17],[124,20,73,18],[124,43,73,41],[124,45,73,43,"e"],[124,46,73,44],[124,47,73,45],[125,6,74,4],[125,12,74,10,"e"],[125,13,74,11],[126,4,75,2],[127,2,76,0],[127,3,76,1],[128,2,78,7],[128,8,78,13,"resetToken"],[128,18,78,23],[128,21,78,26],[128,27,78,26,"resetToken"],[128,28,78,26],[128,33,78,53],[129,4,79,2],[129,8,79,6],[130,6,80,4],[130,12,80,10,"AsyncStorage"],[130,24,80,22],[130,25,80,22,"default"],[130,32,80,22],[130,33,80,23,"removeItem"],[130,43,80,33],[130,44,80,34,"TOKEN_STORAGE_KEY"],[130,61,80,51],[130,62,80,52],[131,6,81,4,"currentToken"],[131,18,81,16],[131,21,81,19,"DEFAULT_TOKEN"],[131,34,81,32],[132,4,82,2],[132,5,82,3],[132,6,82,4],[132,13,82,11,"e"],[132,14,82,12],[132,16,82,14],[133,6,83,4,"console"],[133,13,83,11],[133,14,83,12,"error"],[133,19,83,17],[133,20,83,18],[133,44,83,42],[133,46,83,44,"e"],[133,47,83,45],[133,48,83,46],[134,4,84,2],[135,2,85,0],[135,3,85,1],[137,2,87,0],[139,2,89,0],[140,2,90,7],[140,8,90,13,"fetchBookings"],[140,21,90,26],[140,24,90,29],[140,30,90,29,"fetchBookings"],[140,31,90,29],[140,36,90,41],[141,4,91,2],[141,10,91,8,"response"],[141,18,91,16],[141,21,91,19],[141,27,91,25,"apiClient"],[141,36,91,34],[141,37,91,35,"get"],[141,40,91,38],[141,41,91,39],[141,58,91,56],[141,59,91,57],[142,4,92,2],[142,11,92,9,"response"],[142,19,92,17],[142,20,92,18,"data"],[142,24,92,22],[143,2,93,0],[143,3,93,1],[145,2,95,0],[146,2,96,7],[146,8,96,13,"fetchUserDetails"],[146,24,96,29],[146,27,96,32],[146,33,96,39,"userId"],[146,39,96,53],[146,43,96,58],[147,4,97,2],[147,10,97,8,"response"],[147,18,97,16],[147,21,97,19],[147,27,97,25,"apiClient"],[147,36,97,34],[147,37,97,35,"get"],[147,40,97,38],[147,41,97,39],[147,56,97,54,"userId"],[147,62,97,60],[147,64,97,62],[147,65,97,63],[148,4,98,2],[148,11,98,9,"response"],[148,19,98,17],[148,20,98,18,"data"],[148,24,98,22],[149,2,99,0],[149,3,99,1],[151,2,101,0],[152,2,102,7],[152,8,102,13,"cancelBooking"],[152,21,102,26],[152,24,102,29],[152,30,102,36,"bookingId"],[152,39,102,53],[152,43,102,58],[153,4,103,2],[153,10,103,8,"response"],[153,18,103,16],[153,21,103,19],[153,27,103,25,"apiClient"],[153,36,103,34],[153,37,103,35,"post"],[153,41,103,39],[153,42,103,40],[153,60,103,58,"bookingId"],[153,69,103,67],[153,78,103,76],[153,79,103,77],[154,4,104,2],[154,11,104,9,"response"],[154,19,104,17],[154,20,104,18,"data"],[154,24,104,22],[155,2,105,0],[155,3,105,1],[157,2,107,0],[158,2,108,7],[158,8,108,13,"settleBooking"],[158,21,108,26],[158,24,108,29],[158,30,108,36,"bookingId"],[158,39,108,53],[158,43,108,58],[159,4,109,2],[159,10,109,8,"response"],[159,18,109,16],[159,21,109,19],[159,27,109,25,"apiClient"],[159,36,109,34],[159,37,109,35,"post"],[159,41,109,39],[159,42,109,40],[159,60,109,58,"bookingId"],[159,69,109,67],[159,79,109,77],[159,80,109,78],[160,4,110,2],[160,11,110,9,"response"],[160,19,110,17],[160,20,110,18,"data"],[160,24,110,22],[161,2,111,0],[161,3,111,1],[162,2,113,0],[162,6,113,0,"_default"],[162,14,113,0],[162,17,113,15,"apiClient"],[162,26,113,24],[163,0,113,25],[163,3]],"functionMap":{"names":["<global>","apiClient.interceptors.request.use$argument_0","apiClient.interceptors.request.use$argument_1","apiClient.interceptors.response.use$argument_0","apiClient.interceptors.response.use$argument_1","getToken","setToken","resetToken","fetchBookings","fetchUserDetails","cancelBooking","settleBooking"],"mappings":"AAA;EC0B;GDY;EEC,gCF;EGK,sBH;EIC;GJS;wBKI;CLO;wBME;CNQ;0BOE;CPO;6BQK;CRG;gCSG;CTG;6BUG;CVG;6BWG;CXG"},"hasCjsExports":false},"type":"js/module"}]}