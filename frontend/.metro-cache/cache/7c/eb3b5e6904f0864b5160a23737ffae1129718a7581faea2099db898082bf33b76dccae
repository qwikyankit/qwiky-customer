{"dependencies":[{"name":"axios","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":57,"index":57}}],"key":"e45rENb5cSu0Yeh6oC1uWb7lEp4=","exportNames":["*"],"imports":1}},{"name":"@react-native-async-storage/async-storage","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":2,"column":0,"index":58},"end":{"line":2,"column":69,"index":127}}],"key":"0kSRlooyBOaYM9tlTtK91nq+uds=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  function _interopDefault(e) {\n    return e && e.__esModule ? e : {\n      default: e\n    };\n  }\n  Object.defineProperty(exports, \"default\", {\n    enumerable: true,\n    get: function () {\n      return _default;\n    }\n  });\n  Object.defineProperty(exports, \"getToken\", {\n    enumerable: true,\n    get: function () {\n      return getToken;\n    }\n  });\n  Object.defineProperty(exports, \"setToken\", {\n    enumerable: true,\n    get: function () {\n      return setToken;\n    }\n  });\n  Object.defineProperty(exports, \"resetToken\", {\n    enumerable: true,\n    get: function () {\n      return resetToken;\n    }\n  });\n  Object.defineProperty(exports, \"fetchBookings\", {\n    enumerable: true,\n    get: function () {\n      return fetchBookings;\n    }\n  });\n  Object.defineProperty(exports, \"fetchUserDetails\", {\n    enumerable: true,\n    get: function () {\n      return fetchUserDetails;\n    }\n  });\n  Object.defineProperty(exports, \"cancelBooking\", {\n    enumerable: true,\n    get: function () {\n      return cancelBooking;\n    }\n  });\n  Object.defineProperty(exports, \"settleBooking\", {\n    enumerable: true,\n    get: function () {\n      return settleBooking;\n    }\n  });\n  Object.defineProperty(exports, \"HOOD_ID\", {\n    enumerable: true,\n    get: function () {\n      return HOOD_ID;\n    }\n  });\n  var _axios = require(_dependencyMap[0], \"axios\");\n  var axios = _interopDefault(_axios);\n  var _reactNativeAsyncStorageAsyncStorage = require(_dependencyMap[1], \"@react-native-async-storage/async-storage\");\n  var AsyncStorage = _interopDefault(_reactNativeAsyncStorageAsyncStorage);\n  const BASE_URL = 'https://api.qwiky.in/qwiky-service/api/v1';\n  const TOKEN_STORAGE_KEY = 'qwiky_admin_token';\n  const HOOD_ID = '4dd4d3a6-c0b3-4042-8e01-5b9299273ee1';\n\n  // Default token\n  const DEFAULT_TOKEN = 'eyJhbGciOiJIUzI1NiJ9.eyJtb2JpbGUiOiI5NjYwNzY2MjI3Iiwicm9sZXMiOlsiU1VQRVJfQURNSU4iLCJDVVNUT01FUiJdLCJ1c2VySWQiOiJjZGZiZDJmZC04OTkxLTRiNzMtOGZmYS1jNzE1MzZiOGI4MDkiLCJ0b2tlbl90eXBlIjoiYWNjZXNzIiwic3ViIjoiY2RmYmQyZmQtODk5MS00YjczLThmZmEtYzcxNTM2YjhiODA5IiwiaWF0IjoxNzcxMDU4MzE0LCJleHAiOjIwODIwOTgzMTR9.AukXaAriiGHGlwgEwRhleN2kzC0emcEoys7H3JG7PA4';\n  let currentToken = DEFAULT_TOKEN;\n\n  // Create axios instance\n  const apiClient = axios.default.create({\n    baseURL: BASE_URL,\n    timeout: 30000,\n    headers: {\n      'Content-Type': 'application/json'\n    }\n  });\n\n  // Request interceptor to add auth header\n  apiClient.interceptors.request.use(async config => {\n    // Try to get token from storage first\n    try {\n      const storedToken = await AsyncStorage.default.getItem(TOKEN_STORAGE_KEY);\n      if (storedToken) {\n        currentToken = storedToken;\n      }\n    } catch (e) {\n      // Use current token if storage fails\n    }\n    config.headers.Authorization = `Bearer ${currentToken}`;\n    return config;\n  }, error => Promise.reject(error));\n\n  // Response interceptor for error handling\n  apiClient.interceptors.response.use(response => response, error => {\n    if (error.response) {\n      console.error('API Error:', error.response.status, error.response.data);\n    } else if (error.request) {\n      console.error('Network Error:', error.message);\n    } else {\n      console.error('Request Error:', error.message);\n    }\n    return Promise.reject(error);\n  });\n\n  // Token management functions\n  const getToken = async () => {\n    try {\n      const storedToken = await AsyncStorage.default.getItem(TOKEN_STORAGE_KEY);\n      return storedToken || DEFAULT_TOKEN;\n    } catch {\n      return DEFAULT_TOKEN;\n    }\n  };\n  const setToken = async token => {\n    try {\n      await AsyncStorage.default.setItem(TOKEN_STORAGE_KEY, token);\n      currentToken = token;\n    } catch (e) {\n      console.error('Failed to save token:', e);\n      throw e;\n    }\n  };\n  const resetToken = async () => {\n    try {\n      await AsyncStorage.default.removeItem(TOKEN_STORAGE_KEY);\n      currentToken = DEFAULT_TOKEN;\n    } catch (e) {\n      console.error('Failed to reset token:', e);\n    }\n  };\n\n  // API Functions\n\n  // Fetch all bookings\n  const fetchBookings = async () => {\n    const response = await apiClient.get(`/admin/booking/hood/${HOOD_ID}`);\n    return response.data;\n  };\n\n  // Fetch user details\n  const fetchUserDetails = async userId => {\n    const response = await apiClient.get(`/user/${userId}`);\n    return response.data;\n  };\n\n  // Cancel booking\n  const cancelBooking = async bookingId => {\n    const response = await apiClient.post(`/admin/booking/${bookingId}/cancel`);\n    return response.data;\n  };\n\n  // Settle booking\n  const settleBooking = async bookingId => {\n    const response = await apiClient.post(`/admin/booking/${bookingId}/settled`);\n    return response.data;\n  };\n  var _default = apiClient;\n});","lineCount":167,"map":[[12,2,111,0,"Object"],[12,8,111,0],[12,9,111,0,"defineProperty"],[12,23,111,0],[12,24,111,0,"exports"],[12,31,111,0],[13,4,111,0,"enumerable"],[13,14,111,0],[14,4,111,0,"get"],[14,7,111,0],[14,18,111,0,"get"],[14,19,111,0],[15,6,111,0],[15,13,111,0,"_default"],[15,21,111,0],[16,4,111,0],[17,2,111,0],[18,2,56,0,"Object"],[18,8,56,0],[18,9,56,0,"defineProperty"],[18,23,56,0],[18,24,56,0,"exports"],[18,31,56,0],[19,4,56,0,"enumerable"],[19,14,56,0],[20,4,56,0,"get"],[20,7,56,0],[20,18,56,0,"get"],[20,19,56,0],[21,6,56,0],[21,13,56,0,"getToken"],[21,21,56,0],[22,4,56,0],[23,2,56,0],[24,2,65,0,"Object"],[24,8,65,0],[24,9,65,0,"defineProperty"],[24,23,65,0],[24,24,65,0,"exports"],[24,31,65,0],[25,4,65,0,"enumerable"],[25,14,65,0],[26,4,65,0,"get"],[26,7,65,0],[26,18,65,0,"get"],[26,19,65,0],[27,6,65,0],[27,13,65,0,"setToken"],[27,21,65,0],[28,4,65,0],[29,2,65,0],[30,2,75,0,"Object"],[30,8,75,0],[30,9,75,0,"defineProperty"],[30,23,75,0],[30,24,75,0,"exports"],[30,31,75,0],[31,4,75,0,"enumerable"],[31,14,75,0],[32,4,75,0,"get"],[32,7,75,0],[32,18,75,0,"get"],[32,19,75,0],[33,6,75,0],[33,13,75,0,"resetToken"],[33,23,75,0],[34,4,75,0],[35,2,75,0],[36,2,87,0,"Object"],[36,8,87,0],[36,9,87,0,"defineProperty"],[36,23,87,0],[36,24,87,0,"exports"],[36,31,87,0],[37,4,87,0,"enumerable"],[37,14,87,0],[38,4,87,0,"get"],[38,7,87,0],[38,18,87,0,"get"],[38,19,87,0],[39,6,87,0],[39,13,87,0,"fetchBookings"],[39,26,87,0],[40,4,87,0],[41,2,87,0],[42,2,93,0,"Object"],[42,8,93,0],[42,9,93,0,"defineProperty"],[42,23,93,0],[42,24,93,0,"exports"],[42,31,93,0],[43,4,93,0,"enumerable"],[43,14,93,0],[44,4,93,0,"get"],[44,7,93,0],[44,18,93,0,"get"],[44,19,93,0],[45,6,93,0],[45,13,93,0,"fetchUserDetails"],[45,29,93,0],[46,4,93,0],[47,2,93,0],[48,2,99,0,"Object"],[48,8,99,0],[48,9,99,0,"defineProperty"],[48,23,99,0],[48,24,99,0,"exports"],[48,31,99,0],[49,4,99,0,"enumerable"],[49,14,99,0],[50,4,99,0,"get"],[50,7,99,0],[50,18,99,0,"get"],[50,19,99,0],[51,6,99,0],[51,13,99,0,"cancelBooking"],[51,26,99,0],[52,4,99,0],[53,2,99,0],[54,2,105,0,"Object"],[54,8,105,0],[54,9,105,0,"defineProperty"],[54,23,105,0],[54,24,105,0,"exports"],[54,31,105,0],[55,4,105,0,"enumerable"],[55,14,105,0],[56,4,105,0,"get"],[56,7,105,0],[56,18,105,0,"get"],[56,19,105,0],[57,6,105,0],[57,13,105,0,"settleBooking"],[57,26,105,0],[58,4,105,0],[59,2,105,0],[60,2,110,0,"Object"],[60,8,110,0],[60,9,110,0,"defineProperty"],[60,23,110,0],[60,24,110,0,"exports"],[60,31,110,0],[61,4,110,0,"enumerable"],[61,14,110,0],[62,4,110,0,"get"],[62,7,110,0],[62,18,110,0,"get"],[62,19,110,0],[63,6,110,0],[63,13,110,9,"HOOD_ID"],[63,20,110,16],[64,4,110,16],[65,2,110,16],[66,2,1,0],[66,6,1,0,"_axios"],[66,12,1,0],[66,15,1,0,"require"],[66,22,1,0],[66,23,1,0,"_dependencyMap"],[66,37,1,0],[67,2,1,0],[67,6,1,0,"axios"],[67,11,1,0],[67,14,1,0,"_interopDefault"],[67,29,1,0],[67,30,1,0,"_axios"],[67,36,1,0],[68,2,2,0],[68,6,2,0,"_reactNativeAsyncStorageAsyncStorage"],[68,42,2,0],[68,45,2,0,"require"],[68,52,2,0],[68,53,2,0,"_dependencyMap"],[68,67,2,0],[69,2,2,0],[69,6,2,0,"AsyncStorage"],[69,18,2,0],[69,21,2,0,"_interopDefault"],[69,36,2,0],[69,37,2,0,"_reactNativeAsyncStorageAsyncStorage"],[69,73,2,0],[70,2,4,0],[70,8,4,6,"BASE_URL"],[70,16,4,14],[70,19,4,17],[70,62,4,60],[71,2,5,0],[71,8,5,6,"TOKEN_STORAGE_KEY"],[71,25,5,23],[71,28,5,26],[71,47,5,45],[72,2,6,0],[72,8,6,6,"HOOD_ID"],[72,15,6,13],[72,18,6,16],[72,56,6,54],[74,2,8,0],[75,2,9,0],[75,8,9,6,"DEFAULT_TOKEN"],[75,21,9,19],[75,24,9,22],[75,367,9,365],[76,2,11,0],[76,6,11,4,"currentToken"],[76,18,11,16],[76,21,11,19,"DEFAULT_TOKEN"],[76,34,11,32],[78,2,13,0],[79,2,14,0],[79,8,14,6,"apiClient"],[79,17,14,30],[79,20,14,33,"axios"],[79,25,14,38],[79,26,14,38,"default"],[79,33,14,38],[79,34,14,39,"create"],[79,40,14,45],[79,41,14,46],[80,4,15,2,"baseURL"],[80,11,15,9],[80,13,15,11,"BASE_URL"],[80,21,15,19],[81,4,16,2,"timeout"],[81,11,16,9],[81,13,16,11],[81,18,16,16],[82,4,17,2,"headers"],[82,11,17,9],[82,13,17,11],[83,6,18,4],[83,20,18,18],[83,22,18,20],[84,4,19,2],[85,2,20,0],[85,3,20,1],[85,4,20,2],[87,2,22,0],[88,2,23,0,"apiClient"],[88,11,23,9],[88,12,23,10,"interceptors"],[88,24,23,22],[88,25,23,23,"request"],[88,32,23,30],[88,33,23,31,"use"],[88,36,23,34],[88,37,24,2],[88,43,24,9,"config"],[88,49,24,15],[88,53,24,20],[89,4,25,4],[90,4,26,4],[90,8,26,8],[91,6,27,6],[91,12,27,12,"storedToken"],[91,23,27,23],[91,26,27,26],[91,32,27,32,"AsyncStorage"],[91,44,27,44],[91,45,27,44,"default"],[91,52,27,44],[91,53,27,45,"getItem"],[91,60,27,52],[91,61,27,53,"TOKEN_STORAGE_KEY"],[91,78,27,70],[91,79,27,71],[92,6,28,6],[92,10,28,10,"storedToken"],[92,21,28,21],[92,23,28,23],[93,8,29,8,"currentToken"],[93,20,29,20],[93,23,29,23,"storedToken"],[93,34,29,34],[94,6,30,6],[95,4,31,4],[95,5,31,5],[95,6,31,6],[95,13,31,13,"e"],[95,14,31,14],[95,16,31,16],[96,6,32,6],[97,4,32,6],[98,4,34,4,"config"],[98,10,34,10],[98,11,34,11,"headers"],[98,18,34,18],[98,19,34,19,"Authorization"],[98,32,34,32],[98,35,34,35],[98,45,34,45,"currentToken"],[98,57,34,57],[98,59,34,59],[99,4,35,4],[99,11,35,11,"config"],[99,17,35,17],[100,2,36,2],[100,3,36,3],[100,5,37,3,"error"],[100,10,37,8],[100,14,37,13,"Promise"],[100,21,37,20],[100,22,37,21,"reject"],[100,28,37,27],[100,29,37,28,"error"],[100,34,37,33],[100,35,38,0],[100,36,38,1],[102,2,40,0],[103,2,41,0,"apiClient"],[103,11,41,9],[103,12,41,10,"interceptors"],[103,24,41,22],[103,25,41,23,"response"],[103,33,41,31],[103,34,41,32,"use"],[103,37,41,35],[103,38,42,3,"response"],[103,46,42,11],[103,50,42,16,"response"],[103,58,42,24],[103,60,43,3,"error"],[103,65,43,20],[103,69,43,25],[104,4,44,4],[104,8,44,8,"error"],[104,13,44,13],[104,14,44,14,"response"],[104,22,44,22],[104,24,44,24],[105,6,45,6,"console"],[105,13,45,13],[105,14,45,14,"error"],[105,19,45,19],[105,20,45,20],[105,32,45,32],[105,34,45,34,"error"],[105,39,45,39],[105,40,45,40,"response"],[105,48,45,48],[105,49,45,49,"status"],[105,55,45,55],[105,57,45,57,"error"],[105,62,45,62],[105,63,45,63,"response"],[105,71,45,71],[105,72,45,72,"data"],[105,76,45,76],[105,77,45,77],[106,4,46,4],[106,5,46,5],[106,11,46,11],[106,15,46,15,"error"],[106,20,46,20],[106,21,46,21,"request"],[106,28,46,28],[106,30,46,30],[107,6,47,6,"console"],[107,13,47,13],[107,14,47,14,"error"],[107,19,47,19],[107,20,47,20],[107,36,47,36],[107,38,47,38,"error"],[107,43,47,43],[107,44,47,44,"message"],[107,51,47,51],[107,52,47,52],[108,4,48,4],[108,5,48,5],[108,11,48,11],[109,6,49,6,"console"],[109,13,49,13],[109,14,49,14,"error"],[109,19,49,19],[109,20,49,20],[109,36,49,36],[109,38,49,38,"error"],[109,43,49,43],[109,44,49,44,"message"],[109,51,49,51],[109,52,49,52],[110,4,50,4],[111,4,51,4],[111,11,51,11,"Promise"],[111,18,51,18],[111,19,51,19,"reject"],[111,25,51,25],[111,26,51,26,"error"],[111,31,51,31],[111,32,51,32],[112,2,52,2],[112,3,53,0],[112,4,53,1],[114,2,55,0],[115,2,56,7],[115,8,56,13,"getToken"],[115,16,56,21],[115,19,56,24],[115,25,56,24,"getToken"],[115,26,56,24],[115,31,56,53],[116,4,57,2],[116,8,57,6],[117,6,58,4],[117,12,58,10,"storedToken"],[117,23,58,21],[117,26,58,24],[117,32,58,30,"AsyncStorage"],[117,44,58,42],[117,45,58,42,"default"],[117,52,58,42],[117,53,58,43,"getItem"],[117,60,58,50],[117,61,58,51,"TOKEN_STORAGE_KEY"],[117,78,58,68],[117,79,58,69],[118,6,59,4],[118,13,59,11,"storedToken"],[118,24,59,22],[118,28,59,26,"DEFAULT_TOKEN"],[118,41,59,39],[119,4,60,2],[119,5,60,3],[119,6,60,4],[119,12,60,10],[120,6,61,4],[120,13,61,11,"DEFAULT_TOKEN"],[120,26,61,24],[121,4,62,2],[122,2,63,0],[122,3,63,1],[123,2,65,7],[123,8,65,13,"setToken"],[123,16,65,21],[123,19,65,24],[123,25,65,31,"token"],[123,30,65,44],[123,34,65,64],[124,4,66,2],[124,8,66,6],[125,6,67,4],[125,12,67,10,"AsyncStorage"],[125,24,67,22],[125,25,67,22,"default"],[125,32,67,22],[125,33,67,23,"setItem"],[125,40,67,30],[125,41,67,31,"TOKEN_STORAGE_KEY"],[125,58,67,48],[125,60,67,50,"token"],[125,65,67,55],[125,66,67,56],[126,6,68,4,"currentToken"],[126,18,68,16],[126,21,68,19,"token"],[126,26,68,24],[127,4,69,2],[127,5,69,3],[127,6,69,4],[127,13,69,11,"e"],[127,14,69,12],[127,16,69,14],[128,6,70,4,"console"],[128,13,70,11],[128,14,70,12,"error"],[128,19,70,17],[128,20,70,18],[128,43,70,41],[128,45,70,43,"e"],[128,46,70,44],[128,47,70,45],[129,6,71,4],[129,12,71,10,"e"],[129,13,71,11],[130,4,72,2],[131,2,73,0],[131,3,73,1],[132,2,75,7],[132,8,75,13,"resetToken"],[132,18,75,23],[132,21,75,26],[132,27,75,26,"resetToken"],[132,28,75,26],[132,33,75,53],[133,4,76,2],[133,8,76,6],[134,6,77,4],[134,12,77,10,"AsyncStorage"],[134,24,77,22],[134,25,77,22,"default"],[134,32,77,22],[134,33,77,23,"removeItem"],[134,43,77,33],[134,44,77,34,"TOKEN_STORAGE_KEY"],[134,61,77,51],[134,62,77,52],[135,6,78,4,"currentToken"],[135,18,78,16],[135,21,78,19,"DEFAULT_TOKEN"],[135,34,78,32],[136,4,79,2],[136,5,79,3],[136,6,79,4],[136,13,79,11,"e"],[136,14,79,12],[136,16,79,14],[137,6,80,4,"console"],[137,13,80,11],[137,14,80,12,"error"],[137,19,80,17],[137,20,80,18],[137,44,80,42],[137,46,80,44,"e"],[137,47,80,45],[137,48,80,46],[138,4,81,2],[139,2,82,0],[139,3,82,1],[141,2,84,0],[143,2,86,0],[144,2,87,7],[144,8,87,13,"fetchBookings"],[144,21,87,26],[144,24,87,29],[144,30,87,29,"fetchBookings"],[144,31,87,29],[144,36,87,41],[145,4,88,2],[145,10,88,8,"response"],[145,18,88,16],[145,21,88,19],[145,27,88,25,"apiClient"],[145,36,88,34],[145,37,88,35,"get"],[145,40,88,38],[145,41,88,39],[145,64,88,62,"HOOD_ID"],[145,71,88,69],[145,73,88,71],[145,74,88,72],[146,4,89,2],[146,11,89,9,"response"],[146,19,89,17],[146,20,89,18,"data"],[146,24,89,22],[147,2,90,0],[147,3,90,1],[149,2,92,0],[150,2,93,7],[150,8,93,13,"fetchUserDetails"],[150,24,93,29],[150,27,93,32],[150,33,93,39,"userId"],[150,39,93,53],[150,43,93,58],[151,4,94,2],[151,10,94,8,"response"],[151,18,94,16],[151,21,94,19],[151,27,94,25,"apiClient"],[151,36,94,34],[151,37,94,35,"get"],[151,40,94,38],[151,41,94,39],[151,50,94,48,"userId"],[151,56,94,54],[151,58,94,56],[151,59,94,57],[152,4,95,2],[152,11,95,9,"response"],[152,19,95,17],[152,20,95,18,"data"],[152,24,95,22],[153,2,96,0],[153,3,96,1],[155,2,98,0],[156,2,99,7],[156,8,99,13,"cancelBooking"],[156,21,99,26],[156,24,99,29],[156,30,99,36,"bookingId"],[156,39,99,53],[156,43,99,58],[157,4,100,2],[157,10,100,8,"response"],[157,18,100,16],[157,21,100,19],[157,27,100,25,"apiClient"],[157,36,100,34],[157,37,100,35,"post"],[157,41,100,39],[157,42,100,40],[157,60,100,58,"bookingId"],[157,69,100,67],[157,78,100,76],[157,79,100,77],[158,4,101,2],[158,11,101,9,"response"],[158,19,101,17],[158,20,101,18,"data"],[158,24,101,22],[159,2,102,0],[159,3,102,1],[161,2,104,0],[162,2,105,7],[162,8,105,13,"settleBooking"],[162,21,105,26],[162,24,105,29],[162,30,105,36,"bookingId"],[162,39,105,53],[162,43,105,58],[163,4,106,2],[163,10,106,8,"response"],[163,18,106,16],[163,21,106,19],[163,27,106,25,"apiClient"],[163,36,106,34],[163,37,106,35,"post"],[163,41,106,39],[163,42,106,40],[163,60,106,58,"bookingId"],[163,69,106,67],[163,79,106,77],[163,80,106,78],[164,4,107,2],[164,11,107,9,"response"],[164,19,107,17],[164,20,107,18,"data"],[164,24,107,22],[165,2,108,0],[165,3,108,1],[166,2,111,0],[166,6,111,0,"_default"],[166,14,111,0],[166,17,111,15,"apiClient"],[166,26,111,24],[167,0,111,25],[167,3]],"functionMap":{"names":["<global>","apiClient.interceptors.request.use$argument_0","apiClient.interceptors.request.use$argument_1","apiClient.interceptors.response.use$argument_0","apiClient.interceptors.response.use$argument_1","getToken","setToken","resetToken","fetchBookings","fetchUserDetails","cancelBooking","settleBooking"],"mappings":"AAA;ECuB;GDY;EEC,gCF;EGK,sBH;EIC;GJS;wBKI;CLO;wBME;CNQ;0BOE;CPO;6BQK;CRG;gCSG;CTG;6BUG;CVG;6BWG;CXG"},"hasCjsExports":false},"type":"js/module"}]}